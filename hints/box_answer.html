<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <title>ミステリーボックス回答</title>
</head>
<body>
    <div class="div-box">
        <h6>
            ここにミステリーボックスステージの問題の答えを入力してね。
            何かががもらえるかも！(半角数字で入力してください)
        </h6>
        <input id="ans-enter" type="text" placeholder="ここに入力">
        <div class="note center_text" id="interval" style="display:none">
            回答禁止中です(約10秒)
        </div>
        <button id="ans-trg" class="center_block green-button" disabled>答える</button>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
    <script>
        $("#ans-enter").on("input",()=>{
            let ans = $("#ans-enter").val();
            //空白削除
            ans = ans.replace(/ /g,"").replace(/　/g,"");
            $("#ans-enter").val(ans);
            if (ans.length > 0 && ABLE_ANS){
                $("#ans-trg").attr("disabled",false);
            }else{
                $("#ans-trg").attr("disabled",true);
            }
        });
        $("#ans-trg").on("click",()=>{
            if($("#ans-enter").val() == "2"){
                alert("正解！");
                window.location.href = "./9b9f676e-7ce1-42f6-a143-9061be155afc.html";
            }else{
                alert("不正解…");
                $("#interval").show();
                $("#ans-trg").attr("disabled",true);
                ABLE_ANS = false;
                setTimeout(()=>{
                    ABLE_ANS = true;
                    $("#interval").hide();
                    if($("#ans-enter").val()){
                        $("#ans-trg").attr("disabled",false);
                    }
                },10000);
            }
        });
        window.ABLE_ANS = true;
    </script>
</body>
</html>